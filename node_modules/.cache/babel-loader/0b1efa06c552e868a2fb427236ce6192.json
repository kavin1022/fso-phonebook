{"ast":null,"code":"var _jsxFileName = \"/home/kavin/Desktop/fullstack-open/fso-phonebook/src/PersonForm.js\",\n    _s = $RefreshSig$();\n\n//npx json-server --port 3001 --watch db.json\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PersonForm = ({\n  persons,\n  setPersons\n}) => {\n  _s();\n\n  const [newName, setNewName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n\n  const addPerson = event => {\n    event.preventDefault();\n    let alreadyExist = false;\n    let temp = [...persons];\n    persons.forEach(function (name, index, array) {\n      if (name.name === newName) {\n        alert(`${newName} is already added to phonebook`);\n        alreadyExist = true;\n      }\n    });\n\n    if (alreadyExist === false) {\n      temp.push({\n        name: newName,\n        number: number\n      });\n      axios.post('http://localhost:3001/persons', {\n        name: newName,\n        number: number\n      }).then(response => {\n        setPersons(persons.concat(response.data));\n      });\n    }\n\n    setNewName(\"\");\n    setNumber(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: addPerson,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setNewName(e.target.value),\n        value: newName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setNumber(e.target.value),\n        value: number\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 3\n  }, this);\n};\n\n_s(PersonForm, \"tPdtEApY+7jXOjEvPuHOKj3kJb0=\");\n\n_c = PersonForm;\nexport default PersonForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PersonForm\");","map":{"version":3,"sources":["/home/kavin/Desktop/fullstack-open/fso-phonebook/src/PersonForm.js"],"names":["useState","axios","PersonForm","persons","setPersons","newName","setNewName","number","setNumber","addPerson","event","preventDefault","alreadyExist","temp","forEach","name","index","array","alert","push","post","then","response","concat","data","e","target","value"],"mappings":";;;AAAA;AACA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,OAAD;AAAUC,EAAAA;AAAV,CAAD,KAA2B;AAAA;;AAC7C,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;;AAEA,QAAMS,SAAS,GAAIC,KAAD,IAAW;AAC5BA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIC,YAAY,GAAG,KAAnB;AACA,QAAIC,IAAI,GAAG,CAAC,GAAGV,OAAJ,CAAX;AACAA,IAAAA,OAAO,CAACW,OAAR,CAAgB,UAASC,IAAT,EAAeC,KAAf,EAAsBC,KAAtB,EAA4B;AAC3C,UAAIF,IAAI,CAACA,IAAL,KAAcV,OAAlB,EAA0B;AACzBa,QAAAA,KAAK,CAAE,GAAEb,OAAQ,gCAAZ,CAAL;AACAO,QAAAA,YAAY,GAAG,IAAf;AACA;AACD,KALD;;AAOA,QAAIA,YAAY,KAAK,KAArB,EAA2B;AAC1BC,MAAAA,IAAI,CAACM,IAAL,CAAU;AAACJ,QAAAA,IAAI,EAAEV,OAAP;AAAgBE,QAAAA,MAAM,EAAEA;AAAxB,OAAV;AACAN,MAAAA,KAAK,CACJmB,IADD,CACM,+BADN,EACuC;AAACL,QAAAA,IAAI,EAAEV,OAAP;AAAgBE,QAAAA,MAAM,EAAEA;AAAxB,OADvC,EAECc,IAFD,CAEMC,QAAQ,IAAI;AACjBlB,QAAAA,UAAU,CAACD,OAAO,CAACoB,MAAR,CAAeD,QAAQ,CAACE,IAAxB,CAAD,CAAV;AACA,OAJD;AAKA;;AAGDlB,IAAAA,UAAU,CAAC,EAAD,CAAV;AACAE,IAAAA,SAAS,CAAC,EAAD,CAAT;AAEA,GAxBD;;AA0BA,sBACC;AAAM,IAAA,QAAQ,EAAEC,SAAhB;AAAA,4BACC;AAAA,wCAAW;AAAQ,QAAA,QAAQ,EAAGgB,CAAD,IAAOnB,UAAU,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAnC;AAAqD,QAAA,KAAK,EAAEtB;AAA5D;AAAA;AAAA;AAAA;AAAA,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAEC;AAAA,0CAAa;AAAQ,QAAA,QAAQ,EAAGoB,CAAD,IAAOjB,SAAS,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlC;AAAoD,QAAA,KAAK,EAAEpB;AAA3D;AAAA;AAAA;AAAA;AAAA,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA,YAFD,eAGC;AAAA,6BAAK;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,YAHD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAOA,CArCD;;GAAML,U;;KAAAA,U;AAuCN,eAAeA,UAAf","sourcesContent":["//npx json-server --port 3001 --watch db.json\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nconst PersonForm = ({persons, setPersons}) => {\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [number, setNumber] = useState(\"\");\n\t\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault();\n\t\tlet alreadyExist = false;\n\t\tlet temp = [...persons];\n\t\tpersons.forEach(function(name, index, array){\n\t\t\tif (name.name === newName){\n\t\t\t\talert(`${newName} is already added to phonebook`);\n\t\t\t\talreadyExist = true;\n\t\t\t}\n\t\t})\n\n\t\tif (alreadyExist === false){\n\t\t\ttemp.push({name: newName, number: number});\n\t\t\taxios\n\t\t\t.post('http://localhost:3001/persons', {name: newName, number: number})\n\t\t\t.then(response => {\n\t\t\t\tsetPersons(persons.concat(response.data))\n\t\t\t})\n\t\t}\n\n\n\t\tsetNewName(\"\");\n\t\tsetNumber(\"\");\n\t\t\n\t}\n\n\treturn (\n\t\t<form onSubmit={addPerson}>\n\t\t\t<div>name: <input  onChange={(e) => setNewName(e.target.value)} value={newName}/></div>\n\t\t\t<div>number: <input  onChange={(e) => setNumber(e.target.value)} value={number}/></div>\n\t\t\t<div><button type=\"submit\">add</button></div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm"]},"metadata":{},"sourceType":"module"}